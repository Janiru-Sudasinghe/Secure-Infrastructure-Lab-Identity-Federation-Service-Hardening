# -----------------------------------------------------------
# 1. NAME-BASED VIRTUAL HOSTS (Shared IP: 192.168.10.30)
# -----------------------------------------------------------

<VirtualHost 192.168.10.30:80>
    ServerAdmin admin@example.local
    DocumentRoot "/var/www/vhosts/site1"
    ServerName site1.example.local
    ErrorLog "logs/site1-error.log"
    CustomLog "logs/site1-access.log" common
</VirtualHost>

<VirtualHost 192.168.10.30:80>
    ServerAdmin admin@example.local
    DocumentRoot "/var/www/vhosts/site2"
    ServerName site2.example.local
    ErrorLog "logs/site2-error.log"
    CustomLog "logs/site2-access.log" common
</VirtualHost>

<VirtualHost 192.168.10.30:80>
    ServerAdmin admin@example.local
    DocumentRoot "/var/www/vhosts/site3"
    ServerName site3.example.local
    ErrorLog "logs/site3-error.log"
    CustomLog "logs/site3-access.log" common
</VirtualHost>

# -----------------------------------------------------------
# 2. IP-BASED VIRTUAL HOSTS (Dedicated IPs)
# -----------------------------------------------------------

# APP 1 -> 192.168.10.31
<VirtualHost 192.168.10.31:80>
    ServerAdmin admin@example.local
    DocumentRoot "/var/www/vhosts/app1"
    ServerName app1.example.local
    ErrorLog "logs/app1-error.log"
    CustomLog "logs/app1-access.log" common
</VirtualHost>

# APP 2 -> 192.168.10.32
<VirtualHost 192.168.10.32:80>
    ServerAdmin admin@example.local
    DocumentRoot "/var/www/vhosts/app2"
    ServerName app2.example.local
    ErrorLog "logs/app2-error.log"
    CustomLog "logs/app2-access.log" common
</VirtualHost>

# APP 3 -> 192.168.10.33 (SSL Enabled)
<VirtualHost 192.168.10.33:443>
    ServerAdmin admin@example.local
    DocumentRoot "/var/www/vhosts/app3"
    ServerName app3.example.local
    ErrorLog "logs/app3-error.log"
    CustomLog "logs/app3-access.log" common

    # SSL Configuration
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/app3.crt
    SSLCertificateKeyFile /etc/ssl/private/app3.key
</VirtualHost>

# -----------------------------------------------------------
# GLOBAL DIRECTORY PERMISSIONS
# -----------------------------------------------------------
<Directory "/var/www/vhosts">
    AllowOverride None
    Require all granted
</Directory>
